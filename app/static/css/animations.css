/* 3D Animations and Effects for InkFlow */

/* Global 3D Setup */
body {
    perspective: 1000px;
}

/* 3D Card Transforms */
.featured-card, .recent-card, .popular-card,
.stat-card, .admin-stat-card, .story-card {
    transform-style: preserve-3d;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

.featured-card:hover, .recent-card:hover, .popular-card:hover,
.stat-card:hover, .admin-stat-card:hover, .story-card:hover {
    transform: translateY(-10px) rotateX(5deg) rotateY(2deg);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(26, 137, 23, 0.2);
}

/* 3D Button Effects */
.btn, .action-btn {
    transform-style: preserve-3d;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

.btn::before, .action-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
    border-radius: inherit;
    transform: translateZ(-1px);
    opacity: 0;
    transition: opacity 0.3s;
}

.btn:hover, .action-btn:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.btn:hover::before, .action-btn:hover::before {
    opacity: 1;
}

.btn:active, .action-btn:active {
    transform: translateY(-1px) scale(0.98);
}

/* Staggered Fade In Animation */
@keyframes staggerFadeIn {
    from {
        opacity: 0;
        transform: translateY(30px) rotateX(-10deg);
    }
    to {
        opacity: 1;
        transform: translateY(0) rotateX(0deg);
    }
}

.featured-card, .recent-card {
    animation: staggerFadeIn 0.6s ease-out backwards;
}

.featured-card:nth-child(1) { animation-delay: 0.1s; }
.featured-card:nth-child(2) { animation-delay: 0.2s; }
.featured-card:nth-child(3) { animation-delay: 0.3s; }
.recent-card:nth-child(1) { animation-delay: 0.1s; }
.recent-card:nth-child(2) { animation-delay: 0.2s; }
.recent-card:nth-child(3) { animation-delay: 0.3s; }
.recent-card:nth-child(4) { animation-delay: 0.4s; }

/* Navbar Slide Down with 3D */
@keyframes navSlideDown {
    from {
        transform: translateY(-100%) rotateX(-90deg);
        opacity: 0;
    }
    to {
        transform: translateY(0) rotateX(0deg);
        opacity: 1;
    }
}

.navbar {
    animation: navSlideDown 0.6s ease-out;
}

/* Hero Section 3D Parallax Effect */
.hero {
    position: relative;
    transform-style: preserve-3d;
    overflow: hidden; /* Prevent transformed children from overlapping */
}

.hero-content {
    /* Keep subtle depth without vertical movement */
    transform: translateZ(0);
    transition: transform 0.3s ease;
}

/* Floating Animation */
@keyframes float {
    0%, 100% {
        transform: translateY(0) translateZ(0);
    }
    50% {
        transform: translateY(-15px) translateZ(10px);
    }
}

.dark-mode-toggle {
    animation: float 3s ease-in-out infinite;
}

/* 3D Flip on Click */
@keyframes cardFlip {
    0% {
        transform: rotateY(0deg);
    }
    100% {
        transform: rotateY(180deg);
    }
}

/* Page Load Animation */
@keyframes pageLoad {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        filter: blur(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

.main-content {
    animation: pageLoad 0.5s ease-out;
}

/* Ripple Effect */
.btn, .action-btn, .nav-link {
    position: relative;
    overflow: hidden;
}

.btn::after, .action-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn:active::after, .action-btn:active::after {
    width: 300px;
    height: 300px;
}

/* Image Hover 3D Depth */
.featured-image img, .recent-image img, .story-image img {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
}

.featured-card:hover .featured-image img,
.recent-card:hover .recent-image img,
.story-card:hover .story-image img {
    transform: scale(1.1) translateZ(20px);
}

/* Pulse Animation for Stats */
@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

.stat-number {
    animation: pulse 2s ease-in-out infinite;
}

/* Gradient Shift Animation */
@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.hero {
    background-size: 200% 200%;
    animation: gradientShift 10s ease infinite;
}

/* Icon Spin on Hover */
@keyframes iconSpin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.dark-mode-toggle:hover .theme-icon {
    animation: iconSpin 0.5s ease;
}

/* Like Button Heart Beat */
@keyframes heartBeat {
    0%, 100% {
        transform: scale(1) translateZ(0);
    }
    25% {
        transform: scale(1.2) translateZ(5px);
    }
    50% {
        transform: scale(1) translateZ(0);
    }
}

.stat-btn.liked {
    animation: heartBeat 0.5s ease;
}

/* Smooth Hover Lift with Shadow */
.hover-lift {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
    transform: translateY(-8px) translateZ(10px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
}

/* Typing Effect */
@keyframes typing {
    from {
        width: 0;
    }
    to {
        width: 100%;
    }
}

@keyframes blink {
    50% {
        border-color: transparent;
    }
}

/* Scale In Animation */
@keyframes scaleIn {
    from {
        transform: scale(0.8) rotateZ(-5deg);
        opacity: 0;
    }
    to {
        transform: scale(1) rotateZ(0deg);
        opacity: 1;
    }
}

/* Slide from Bottom */
@keyframes slideFromBottom {
    from {
        transform: translateY(100%) rotateX(-45deg);
        opacity: 0;
    }
    to {
        transform: translateY(0) rotateX(0deg);
        opacity: 1;
    }
}

/* Tag Bounce */
.tag {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.tag:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Search Input Focus Effect */
.search-input {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.search-input:focus {
    transform: scale(1.02) translateZ(5px);
}

/* Avatar Rotation on Hover */
.author-avatar, .avatar-sm, .avatar-xl {
    transition: all 0.3s ease;
}

.author-avatar:hover, .avatar-sm:hover, .avatar-xl:hover {
    transform: rotate(360deg) scale(1.1);
}

/* Flash Message Slide In */
@keyframes flashSlideIn {
    from {
        transform: translateX(400px) rotateY(-45deg);
        opacity: 0;
    }
    to {
        transform: translateX(0) rotateY(0deg);
        opacity: 1;
    }
}

.flash {
    animation: flashSlideIn 0.5s ease-out;
}

/* Loading Spinner 3D */
@keyframes spin3D {
    from {
        transform: rotateY(0deg) rotateX(0deg);
    }
    to {
        transform: rotateY(360deg) rotateX(360deg);
    }
}

.loading-spinner {
    animation: spin3D 1.5s linear infinite;
}

/* Parallax Scroll Effect */
.parallax {
    transition: transform 0.1s ease-out;
}

/* Skeleton Loading with Shimmer */
@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }
    100% {
        background-position: 1000px 0;
    }
}

.skeleton {
    background: linear-gradient(
        90deg,
        rgba(255,255,255,0.05) 0%,
        rgba(255,255,255,0.1) 50%,
        rgba(255,255,255,0.05) 100%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
}

/* Modal Scale In */
@keyframes modalScaleIn {
    from {
        transform: scale(0.5) rotateX(-45deg);
        opacity: 0;
    }
    to {
        transform: scale(1) rotateX(0deg);
        opacity: 1;
    }
}

.modal-content {
    animation: modalScaleIn 0.4s ease-out;
}

/* Dropdown Menu 3D */
.dropdown-menu {
    transform-origin: top center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.nav-dropdown:hover .dropdown-menu {
    transform: rotateX(0deg) translateY(0);
}

/* Pagination 3D Effect */
.pagination-link, .pagination-current {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.pagination-link:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Footer Reveal Animation */
@keyframes footerReveal {
    from {
        transform: translateY(100%) rotateX(-45deg);
        opacity: 0;
    }
    to {
        transform: translateY(0) rotateX(0deg);
        opacity: 1;
    }
}

.footer {
    animation: footerReveal 0.6s ease-out;
}

/* Tilt Effect on Mouse Move */
.tilt-card {
    transition: transform 0.1s ease;
}

/* Glow Pulse */
@keyframes glowPulse {
    0%, 100% {
        box-shadow: 0 0 5px rgba(26, 137, 23, 0.5);
    }
    50% {
        box-shadow: 0 0 20px rgba(26, 137, 23, 0.8);
    }
}

.btn-primary {
    animation: glowPulse 2s ease-in-out infinite;
}

/* Bounce Animation */
@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* Rotate Scale on Hover */
.icon-hover {
    transition: all 0.3s ease;
}

.icon-hover:hover {
    transform: rotate(15deg) scale(1.2);
}

/* Slide and Fade */
@keyframes slideFade {
    from {
        transform: translateX(-50px) rotateY(-45deg);
        opacity: 0;
    }
    to {
        transform: translateX(0) rotateY(0deg);
        opacity: 1;
    }
}

/* Background Particles Animation */
@keyframes particleFloat {
    0%, 100% {
        transform: translateY(0) translateX(0);
    }
    25% {
        transform: translateY(-20px) translateX(10px);
    }
    50% {
        transform: translateY(-10px) translateX(-10px);
    }
    75% {
        transform: translateY(-30px) translateX(5px);
    }
}

/* Form Input Focus 3D */
.form-input, .form-textarea {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.form-input:focus, .form-textarea:focus {
    transform: translateZ(5px) scale(1.01);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

/* Notification Slide */
@keyframes notificationSlide {
    from {
        transform: translateX(400px) rotateZ(10deg);
        opacity: 0;
    }
    to {
        transform: translateX(0) rotateZ(0deg);
        opacity: 1;
    }
}

/* Smooth Scroll Behavior */
html {
    scroll-behavior: smooth;
}

/* Perspective Depth on Scroll */
.depth-scroll {
    transform: translateZ(-100px) scale(1.1);
}

/* Mobile Menu Slide */
.mobile-menu {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.mobile-menu.active {
    animation: slideFromBottom 0.4s ease-out;
}

/* Reading Progress Animation */
.reading-progress {
    transition: width 0.2s ease;
}

.progress-bar {
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Comment Appear Animation */
.comment-item {
    animation: staggerFadeIn 0.5s ease-out backwards;
}

.comment-item:nth-child(1) { animation-delay: 0.1s; }
.comment-item:nth-child(2) { animation-delay: 0.2s; }
.comment-item:nth-child(3) { animation-delay: 0.3s; }

/* Utility Classes */
.animate-on-scroll {
    opacity: 0;
    transform: translateY(50px) rotateX(-10deg);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-on-scroll.visible {
    opacity: 1;
    transform: translateY(0) rotateX(0deg);
}

/* Glassmorphism Effect */
.glass-effect {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* 3D Perspective Container */
.perspective-container {
    perspective: 1500px;
    perspective-origin: center;
}

/* Z-Index Layering Animation */
@keyframes layerUp {
    from {
        transform: translateZ(-50px);
        opacity: 0;
    }
    to {
        transform: translateZ(0);
        opacity: 1;
    }
}

.layer-animate {
    animation: layerUp 0.5s ease-out;
}
